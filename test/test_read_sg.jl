module test_read_sg
using VoronoiFVM

function test()
    content="""
SimplexGrid 2.1
#created by gWriteSG (c) J.Fuhrmann, T.Streckenbach
#mailto:{fuhrmann|streckenbach}@wias-berlin.de
#pdelib2 2.5.20191106.0
#Sat Nov  9 17:08:57 2019
DIMENSION
2
NODES
12 2
0.00000000000000000000e+00 0.00000000000000000000e+00 
1.00000000000000000000e+00 0.00000000000000000000e+00 
0.00000000000000000000e+00 1.00000000000000000000e+00 
2.00000000000000000000e+00 2.00000000000000000000e+00 
5.00000000000000000000e-01 5.00000000000000000000e-01 
5.00000000000000000000e-01 0.00000000000000000000e+00 
8.23223304703363134571e-01 1.76776695296636865429e-01 
7.50000000000000000000e-01 0.00000000000000000000e+00 
1.76776695296636865429e-01 1.76776695296636865429e-01 
2.50000000000000000000e-01 0.00000000000000000000e+00 
1.10557280900008425562e+00 1.55278640450004212781e+00 
1.29289321881345253828e+00 1.29289321881345253828e+00 
CELLS
9
8 2 7 1
5 6 7 1
9 10 6 1
7 6 8 1
6 5 9 1
11 3 5 0
9 1 10 1
12 4 11 0
11 5 12 0
FACES
13
2 8 1
7 5 1
3 11 1
5 3 1
4 12 1
9 1 1
6 10 1
7 2 1
8 6 1
9 5 1
10 1 1
11 4 1
12 5 1
END
"""
    (tempname,tempfile)=mktemp()
    write(tempfile,content)
    close(tempfile)
    sleep(1)
    grid=VoronoiFVM.Grid(IOStream,file=tempname,format="sg")
    num_nodes(grid)==12 && num_cells(grid)==9 && num_bfaces(grid)==13
end
end
